(function(){function E(){}function C(){this.was=[0]}function D(a,b,c){this.hufts=new Int32Array(4320);this.window=new Uint8Array(c);this.end=c;this.checkfn=b;this.mode=0;this.reset(a,null);this.index=this.table=this.left=0;this.blens=null;this.bb=new Int32Array(1);this.tb=new Int32Array(1);this.codes=new F;this.check=this.write=this.read=this.bitb=this.bitk=this.last=0;this.inftree=new G}function F(){}function G(){}function A(a,b,c,d,k){if(0!=k){if(!a)throw"Undef src";if(!c)throw"Undef dest";if(0==
b&&k==a.length)c.set(a,d);else if(U)a=a.subarray(b,b+k),c.set(a,d);else if(1==a.BYTES_PER_ELEMENT&&100<k)a=new Uint8Array(a.buffer,a.byteOffset+b,k),c.set(a,d);else for(var e=0;e<k;++e)c[d+e]=a[b+e]}}function K(a,b,c,d){a=b?c?new Uint8Array(a,b,c):new Uint8Array(a,b,a.byteLength-b):new Uint8Array(a);c=new E;c.inflateInit(15,!0);c.next_in=a;c.next_in_index=0;c.avail_in=a.length;a=[];for(var k=0;;){var e=new Uint8Array(32E3);c.next_out=e;c.next_out_index=0;c.avail_out=e.length;var f=c.inflate(0);if(0!=
f&&1!=f&&-5!=f)throw c.msg;if(0!=c.avail_out){var g=new Uint8Array(e.length-c.avail_out);A(e,0,g,0,e.length-c.avail_out);e=g}a.push(e);k+=e.length;if(1==f||-5==f)break}d&&(d[0]=(b||0)+c.next_in_index);if(1==a.length)return a[0].buffer;b=new Uint8Array(k);for(c=d=0;c<a.length;++c)k=a[c],A(k,0,b,d,k.length),d+=k.length;return b.buffer}function L(a,b){this.block=a;this.offset=b}function I(a,b,c){var d=4294967296*(a[b+6]&255)+16777216*(a[b+5]&255)+65536*(a[b+4]&255)+256*(a[b+3]&255)+(a[b+2]&255);a=a[b+
1]<<8|a[b];return 0!=d||0!=a||c?new L(d,a):null}function M(a,b){b=Math.min(b||1,a.byteLength-50);for(var c=[],d=[0],k=0;d[0]<b;){var e=new Uint8Array(a,d[0],12);e=e[11]<<8|e[10];e=K(a,12+e+d[0],Math.min(65536,a.byteLength-12-e-d[0]),d);d[0]+=8;k+=e.byteLength;c.push(e)}if(1==c.length)return c[0];d=new Uint8Array(k);for(e=k=0;e<c.length;++e){var f=new Uint8Array(c[e]);A(f,0,d,k,f.length);k+=f.length}return d.buffer}function N(a,b){this.minv=a;this.maxv=b}function V(a,b){var c,d=[];--b;d.push(0);for(c=
1+(a>>26);c<=1+(b>>26);++c)d.push(c);for(c=9+(a>>23);c<=9+(b>>23);++c)d.push(c);for(c=73+(a>>20);c<=73+(b>>20);++c)d.push(c);for(c=585+(a>>17);c<=585+(b>>17);++c)d.push(c);for(c=4681+(a>>14);c<=4681+(b>>14);++c)d.push(c);return d}function H(a){this.blob=a}function B(a,b,c,d){d||("object"===typeof b?(d=b,b=void 0):d={});this.url=a;this.start=b||0;c&&(this.end=c);this.opts=d}function O(a){if(!a)return null;for(var b=new Uint8Array(a.length),c=0;c<b.length;++c)b[c]=a.charCodeAt(c);return b.buffer}function P(a,
b){var c=new ArrayBuffer(8),d=new Uint8Array(c);c=new Float32Array(c);d[0]=a[b];d[1]=a[b+1];d[2]=a[b+2];d[3]=a[b+3];return c[0]}function x(a,b){return a[b+3]<<24|a[b+2]<<16|a[b+1]<<8|a[b]}function Q(a,b){return a[b+1]<<8|a[b]}function W(a,b){return a[b]}function J(){}function R(a,b,c,d,k){function e(a){if(!a)return d(null,"Couldn't access BAM");a=M(a,a.byteLength);a=new Uint8Array(a);var b=x(a,0);if(21840194!=b)return d(null,"Not a BAM file, magic=0x"+b.toString(16));var c=x(a,4),e="";for(b=0;b<c;++b)e+=
String.fromCharCode(a[b+8]);e=x(a,c+8);c+=12;f.chrToIndex={};f.indexToChr=[];for(b=0;b<e;++b){for(var g=x(a,c),h="",k=0;k<g-1;++k)h+=String.fromCharCode(a[c+4+k]);x(a,c+g+4);f.chrToIndex[h]=b;0==h.indexOf("chr")?f.chrToIndex[h.substring(3)]=b:f.chrToIndex["chr"+h]=b;f.indexToChr.push(h);c=c+8+g}if(f.indices)return d(f)}var f=new J;f.data=a;f.bai=b;f.indexChunks=c;var g=f.indexChunks?f.indexChunks.minBlockIndex:1E9;if(f.indexChunks){b=f.indexChunks.chunks;f.indices=[];for(var h=0;h<b.length;h++)f.indices[h]=
null;f.data.slice(0,g).fetch(e)}else f.bai.fetch(function(b){var h;if(b){var l=new Uint8Array(b),m=x(l,0);if(21578050!=m)b=d(null,"Not a BAI file, magic=0x"+m.toString(16));else{m=x(l,4);f.indices=[];for(var p=8,y=0;y<m;++y){var t=p;var r=l;var w=h=t;var v=x(r,w);w+=4;for(var u=0;u<v;++u){x(r,w);var z=x(r,w+4);w+=8+16*z}u=x(r,w);w+=4;z=1E9;for(var A=w,C=0;C<u;++C){var B=I(r,A);A+=8;if(B){r=B.block;0<B.offset&&(r+=65536);r<z&&(z=r);break}}r=z;h=w+8*u-h;p+=h;g=Math.min(r,g);0<v&&(f.indices[y]=new Uint8Array(b,
t,p-t))}b=!0}}else b="Couldn't access BAI";!0!==b?f.bai.url&&"undefined"===typeof k?(f.bai.url=f.data.url.replace(/.bam$/,".bai"),R(a,f.bai,c,d,!0)):d(null,b):f.data.slice(0,g).fetch(e)})}function X(){}var z=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],Y=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,
8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,
80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,
21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,
0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,
9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,
0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,
8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,
0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],Z=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],aa=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,
227,258,0,0],ba=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],ca=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],da=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];E.prototype.inflateInit=function(a,b){a||(a=15);b&&(b=!1);this.istate=new C;return this.istate.inflateInit(this,b?-a:a)};E.prototype.inflate=function(a){return null==this.istate?-2:this.istate.inflate(this,a)};E.prototype.inflateEnd=
function(){if(null==this.istate)return-2;var a=istate.inflateEnd(this);this.istate=null;return a};E.prototype.inflateSync=function(){return istate.inflateSync(this)};E.prototype.inflateSetDictionary=function(a,b){return istate.inflateSetDictionary(this,a,b)};C.prototype.inflateReset=function(a){if(null==a||null==a.istate)return-2;a.total_in=a.total_out=0;a.msg=null;a.istate.mode=0!=a.istate.nowrap?7:0;a.istate.blocks.reset(a,null);return 0};C.prototype.inflateEnd=function(a){null!=this.blocks&&this.blocks.free(a);
this.blocks=null;return 0};C.prototype.inflateInit=function(a,b){this.blocks=a.msg=null;nowrap=0;0>b&&(b=-b,nowrap=1);if(8>b||15<b)return this.inflateEnd(a),-2;this.wbits=b;a.istate.blocks=new D(a,0!=a.istate.nowrap?null:this,1<<b);this.inflateReset(a);return 0};C.prototype.inflate=function(a,b){var c;if(null==a||null==a.istate||null==a.next_in)return-2;b=4==b?-5:0;for(c=-5;;)switch(a.istate.mode){case 0:if(0==a.avail_in)return c;c=b;a.avail_in--;a.total_in++;if(8!=((a.istate.method=a.next_in[a.next_in_index++])&
15)){a.istate.mode=13;a.msg="unknown compression method";a.istate.marker=5;break}if((a.istate.method>>4)+8>a.istate.wbits){a.istate.mode=13;a.msg="invalid window size";a.istate.marker=5;break}a.istate.mode=1;case 1:if(0==a.avail_in)return c;c=b;a.avail_in--;a.total_in++;var d=a.next_in[a.next_in_index++]&255;if(0!=((a.istate.method<<8)+d)%31){a.istate.mode=13;a.msg="incorrect header check";a.istate.marker=5;break}if(0==(d&32)){a.istate.mode=7;break}a.istate.mode=2;case 2:if(0==a.avail_in)return c;
c=b;a.avail_in--;a.total_in++;a.istate.need=(a.next_in[a.next_in_index++]&255)<<24&4278190080;a.istate.mode=3;case 3:if(0==a.avail_in)return c;c=b;a.avail_in--;a.total_in++;a.istate.need+=(a.next_in[a.next_in_index++]&255)<<16&16711680;a.istate.mode=4;case 4:if(0==a.avail_in)return c;c=b;a.avail_in--;a.total_in++;a.istate.need+=(a.next_in[a.next_in_index++]&255)<<8&65280;a.istate.mode=5;case 5:if(0==a.avail_in)return c;a.avail_in--;a.total_in++;a.istate.need+=a.next_in[a.next_in_index++]&255;a.adler=
a.istate.need;a.istate.mode=6;return 2;case 6:return a.istate.mode=13,a.msg="need dictionary",a.istate.marker=0,-2;case 7:c=a.istate.blocks.proc(a,c);if(-3==c){a.istate.mode=13;a.istate.marker=0;break}0==c&&(c=b);if(1!=c)return c;c=b;a.istate.blocks.reset(a,a.istate.was);if(0!=a.istate.nowrap){a.istate.mode=12;break}a.istate.mode=8;case 8:if(0==a.avail_in)return c;c=b;a.avail_in--;a.total_in++;a.istate.need=(a.next_in[a.next_in_index++]&255)<<24&4278190080;a.istate.mode=9;case 9:if(0==a.avail_in)return c;
c=b;a.avail_in--;a.total_in++;a.istate.need+=(a.next_in[a.next_in_index++]&255)<<16&16711680;a.istate.mode=10;case 10:if(0==a.avail_in)return c;c=b;a.avail_in--;a.total_in++;a.istate.need+=(a.next_in[a.next_in_index++]&255)<<8&65280;a.istate.mode=11;case 11:if(0==a.avail_in)return c;c=b;a.avail_in--;a.total_in++;a.istate.need+=a.next_in[a.next_in_index++]&255;if(a.istate.was[0]!=a.istate.need){a.istate.mode=13;a.msg="incorrect data check";a.istate.marker=5;break}a.istate.mode=12;case 12:return 1;
case 13:return-3;default:return-2}};C.prototype.inflateSetDictionary=function(a,b,c){var d=0,k=c;if(null==a||null==a.istate||6!=a.istate.mode)return-2;if(a._adler.adler32(1,b,0,c)!=a.adler)return-3;a.adler=a._adler.adler32(0,null,0,0);k>=1<<a.istate.wbits&&(k=(1<<a.istate.wbits)-1,d=c-k);a.istate.blocks.set_dictionary(b,d,k);a.istate.mode=7;return 0};var ea=[0,0,255,255];C.prototype.inflateSync=function(a){var b,c;if(null==a||null==a.istate)return-2;13!=a.istate.mode&&(a.istate.mode=13,a.istate.marker=
0);if(0==(b=a.avail_in))return-5;var d=a.next_in_index;for(c=a.istate.marker;0!=b&&4>c;)a.next_in[d]==ea[c]?c++:c=0!=a.next_in[d]?0:4-c,d++,b--;a.total_in+=d-a.next_in_index;a.next_in_index=d;a.avail_in=b;a.istate.marker=c;if(4!=c)return-3;b=a.total_in;d=a.total_out;this.inflateReset(a);a.total_in=b;a.total_out=d;a.istate.mode=7;return 0};C.prototype.inflateSyncPoint=function(a){return null==a||null==a.istate||null==a.istate.blocks?-2:a.istate.blocks.sync_point()};var S=[16,17,18,0,8,7,9,6,10,5,11,
4,12,3,13,2,14,1,15];D.prototype.reset=function(a,b){b&&(b[0]=this.check);6==this.mode&&this.codes.free(a);this.read=this.write=this.bitb=this.bitk=this.mode=0;this.checkfn&&(a.adler=this.check=a._adler.adler32(0,null,0,0))};D.prototype.proc=function(a,b){var c;var d=a.next_in_index;var k=a.avail_in;var e=this.bitb;var f=this.bitk;var g=this.write;for(c=g<this.read?this.read-g-1:this.end-g;;)switch(this.mode){case 0:for(;3>f;){if(0!=k)b=0;else return this.bitb=e,this.bitk=f,a.avail_in=k,a.total_in+=
d-a.next_in_index,a.next_in_index=d,this.write=g,this.inflate_flush(a,b);k--;e|=(a.next_in[d++]&255)<<f;f+=8}var h=e&7;this.last=h&1;switch(h>>>1){case 0:e>>>=3;f-=3;h=f&7;e>>>=h;f-=h;this.mode=1;break;case 1:var l=new Int32Array(1),n=new Int32Array(1),q=[],m=[];h=n;var p=q,y=m;l[0]=9;h[0]=5;p[0]=Y;y[0]=Z;this.codes.init(l[0],n[0],q[0],0,m[0],0,a);e>>>=3;f-=3;this.mode=6;break;case 2:e>>>=3;f-=3;this.mode=3;break;case 3:return e>>>=3,f-=3,this.mode=13,a.msg="invalid block type",b=-3,this.bitb=e,this.bitk=
f,a.avail_in=k,a.total_in+=d-a.next_in_index,a.next_in_index=d,this.write=g,this.inflate_flush(a,b)}break;case 1:for(;32>f;){if(0!=k)b=0;else return this.bitb=e,this.bitk=f,a.avail_in=k,a.total_in+=d-a.next_in_index,a.next_in_index=d,this.write=g,this.inflate_flush(a,b);k--;e|=(a.next_in[d++]&255)<<f;f+=8}if((~e>>>16&65535)!=(e&65535))return this.mode=13,a.msg="invalid stored block lengths",b=-3,this.bitb=e,this.bitk=f,a.avail_in=k,a.total_in+=d-a.next_in_index,a.next_in_index=d,this.write=g,this.inflate_flush(a,
b);this.left=e&65535;e=f=0;this.mode=0!=this.left?2:0!=this.last?7:0;break;case 2:if(0==k)return this.bitb=e,this.bitk=f,a.avail_in=k,a.total_in+=d-a.next_in_index,a.next_in_index=d,write=g,this.inflate_flush(a,b);if(0==c&&(g==end&&0!=read&&(g=0,c=g<this.read?this.read-g-1:this.end-g),0==c&&(this.write=g,b=this.inflate_flush(a,b),g=this.write,c=g<this.read?this.read-g-1:this.end-g,g==this.end&&0!=this.read&&(g=0,c=g<this.read?this.read-g-1:this.end-g),0==c)))return this.bitb=e,this.bitk=f,a.avail_in=
k,a.total_in+=d-a.next_in_index,a.next_in_index=d,this.write=g,this.inflate_flush(a,b);b=0;h=this.left;h>k&&(h=k);h>c&&(h=c);A(a.next_in,d,this.window,g,h);d+=h;k-=h;g+=h;c-=h;if(0!=(this.left-=h))break;this.mode=0!=this.last?7:0;break;case 3:for(;14>f;){if(0!=k)b=0;else return this.bitb=e,this.bitk=f,a.avail_in=k,a.total_in+=d-a.next_in_index,a.next_in_index=d,this.write=g,this.inflate_flush(a,b);k--;e|=(a.next_in[d++]&255)<<f;f+=8}this.table=h=e&16383;if(29<(h&31)||29<(h>>5&31))return this.mode=
9,a.msg="too many length or distance symbols",b=-3,this.bitb=e,this.bitk=f,a.avail_in=k,a.total_in+=d-a.next_in_index,a.next_in_index=d,this.write=g,this.inflate_flush(a,b);h=258+(h&31)+(h>>5&31);if(null==this.blens||this.blens.length<h)this.blens=new Int32Array(h);else for(c=0;c<h;c++)this.blens[c]=0;e>>>=14;f-=14;this.index=0;mode=4;case 4:for(;this.index<4+(this.table>>>10);){for(;3>f;){if(0!=k)b=0;else return this.bitb=e,this.bitk=f,a.avail_in=k,a.total_in+=d-a.next_in_index,a.next_in_index=d,
this.write=g,this.inflate_flush(a,b);k--;e|=(a.next_in[d++]&255)<<f;f+=8}this.blens[S[this.index++]]=e&7;e>>>=3;f-=3}for(;19>this.index;)this.blens[S[this.index++]]=0;this.bb[0]=7;h=this.inftree.inflate_trees_bits(this.blens,this.bb,this.tb,this.hufts,a);if(0!=h)return b=h,-3==b&&(this.blens=null,this.mode=9),this.bitb=e,this.bitk=f,a.avail_in=k,a.total_in+=d-a.next_in_index,a.next_in_index=d,write=g,this.inflate_flush(a,b);this.index=0;this.mode=5;case 5:for(;;){h=this.table;if(!(this.index<258+
(h&31)+(h>>5&31)))break;for(h=this.bb[0];f<h;){if(0!=k)b=0;else return this.bitb=e,this.bitk=f,a.avail_in=k,a.total_in+=d-a.next_in_index,a.next_in_index=d,this.write=g,this.inflate_flush(a,b);k--;e|=(a.next_in[d++]&255)<<f;f+=8}h=this.hufts[3*(this.tb[0]+(e&z[h]))+1];n=this.hufts[3*(this.tb[0]+(e&z[h]))+2];if(16>n)e>>>=h,f-=h,this.blens[this.index++]=n;else{c=18==n?7:n-14;for(l=18==n?11:3;f<h+c;){if(0!=k)b=0;else return this.bitb=e,this.bitk=f,a.avail_in=k,a.total_in+=d-a.next_in_index,a.next_in_index=
d,this.write=g,this.inflate_flush(a,b);k--;e|=(a.next_in[d++]&255)<<f;f+=8}e>>>=h;f-=h;l+=e&z[c];e>>>=c;f-=c;c=this.index;h=this.table;if(c+l>258+(h&31)+(h>>5&31)||16==n&&1>c)return this.blens=null,this.mode=9,a.msg="invalid bit length repeat",b=-3,this.bitb=e,this.bitk=f,a.avail_in=k,a.total_in+=d-a.next_in_index,a.next_in_index=d,this.write=g,this.inflate_flush(a,b);n=16==n?this.blens[c-1]:0;do this.blens[c++]=n;while(0!=--l);this.index=c}}this.tb[0]=-1;l=new Int32Array(1);n=new Int32Array(1);q=
new Int32Array(1);m=new Int32Array(1);l[0]=9;n[0]=6;h=this.table;h=this.inftree.inflate_trees_dynamic(257+(h&31),1+(h>>5&31),this.blens,l,n,q,m,this.hufts,a);if(0!=h)return-3==h&&(this.blens=null,this.mode=13),b=h,this.bitb=e,this.bitk=f,a.avail_in=k,a.total_in+=d-a.next_in_index,a.next_in_index=d,this.write=g,this.inflate_flush(a,b);this.codes.init(l[0],n[0],this.hufts,q[0],this.hufts,m[0],a);this.mode=6;case 6:this.bitb=e;this.bitk=f;a.avail_in=k;a.total_in+=d-a.next_in_index;a.next_in_index=d;
this.write=g;if(1!=(b=this.codes.proc(this,a,b)))return this.inflate_flush(a,b);b=0;this.codes.free(a);d=a.next_in_index;k=a.avail_in;e=this.bitb;f=this.bitk;g=this.write;c=g<this.read?this.read-g-1:this.end-g;if(0==this.last){this.mode=0;break}this.mode=7;case 7:this.write=g;b=this.inflate_flush(a,b);g=this.write;if(this.read!=this.write)return this.bitb=e,this.bitk=f,a.avail_in=k,a.total_in+=d-a.next_in_index,a.next_in_index=d,this.write=g,this.inflate_flush(a,b);mode=12;case 8:return b=1,this.bitb=
e,this.bitk=f,a.avail_in=k,a.total_in+=d-a.next_in_index,a.next_in_index=d,this.write=g,this.inflate_flush(a,b);case 9:return b=-3,this.bitb=e,this.bitk=f,a.avail_in=k,a.total_in+=d-a.next_in_index,a.next_in_index=d,this.write=g,this.inflate_flush(a,b);default:return b=-2,this.bitb=e,this.bitk=f,a.avail_in=k,a.total_in+=d-a.next_in_index,a.next_in_index=d,this.write=g,this.inflate_flush(a,b)}};D.prototype.free=function(a){this.reset(a,null);this.hufts=this.window=null};D.prototype.set_dictionary=
function(a,b,c){A(a,b,window,0,c);this.read=this.write=c};D.prototype.sync_point=function(){return 1==this.mode};D.prototype.inflate_flush=function(a,b){var c=a.next_out_index;var d=this.read;var k=(d<=this.write?this.write:this.end)-d;k>a.avail_out&&(k=a.avail_out);0!=k&&-5==b&&(b=0);a.avail_out-=k;a.total_out+=k;null!=this.checkfn&&(a.adler=this.check=a._adler.adler32(this.check,this.window,d,k));A(this.window,d,a.next_out,c,k);c+=k;d+=k;d==this.end&&(d=0,this.write==this.end&&(this.write=0),k=
this.write-d,k>a.avail_out&&(k=a.avail_out),0!=k&&-5==b&&(b=0),a.avail_out-=k,a.total_out+=k,null!=this.checkfn&&(a.adler=this.check=a._adler.adler32(this.check,this.window,d,k)),A(this.window,d,a.next_out,c,k),c+=k,d+=k);a.next_out_index=c;this.read=d;return b};F.prototype.init=function(a,b,c,d,k,e,f){this.mode=0;this.lbits=a;this.dbits=b;this.ltree=c;this.ltree_index=d;this.dtree=k;this.dtree_index=e;this.tree=null};F.prototype.proc=function(a,b,c){var d,k;var e=b.next_in_index;var f=b.avail_in;
var g=a.bitb;var h=a.bitk;var l=a.write;for(k=l<a.read?a.read-l-1:a.end-l;;)switch(this.mode){case 0:if(258<=k&&10<=f&&(a.bitb=g,a.bitk=h,b.avail_in=f,b.total_in+=e-b.next_in_index,b.next_in_index=e,a.write=l,c=this.inflate_fast(this.lbits,this.dbits,this.ltree,this.ltree_index,this.dtree,this.dtree_index,a,b),e=b.next_in_index,f=b.avail_in,g=a.bitb,h=a.bitk,l=a.write,k=l<a.read?a.read-l-1:a.end-l,0!=c)){this.mode=1==c?7:9;break}this.need=this.lbits;this.tree=this.ltree;this.tree_index=this.ltree_index;
this.mode=1;case 1:for(d=this.need;h<d;){if(0!=f)c=0;else return a.bitb=g,a.bitk=h,b.avail_in=f,b.total_in+=e-b.next_in_index,b.next_in_index=e,a.write=l,a.inflate_flush(b,c);f--;g|=(b.next_in[e++]&255)<<h;h+=8}d=3*(this.tree_index+(g&z[d]));g>>>=this.tree[d+1];h-=this.tree[d+1];var n=this.tree[d];if(0==n){this.lit=this.tree[d+2];this.mode=6;break}if(0!=(n&16)){this.get=n&15;this.len=this.tree[d+2];this.mode=2;break}if(0==(n&64)){this.need=n;this.tree_index=d/3+this.tree[d+2];break}if(0!=(n&32)){this.mode=
7;break}this.mode=9;b.msg="invalid literal/length code";c=-3;a.bitb=g;a.bitk=h;b.avail_in=f;b.total_in+=e-b.next_in_index;b.next_in_index=e;a.write=l;return a.inflate_flush(b,c);case 2:for(d=this.get;h<d;){if(0!=f)c=0;else return a.bitb=g,a.bitk=h,b.avail_in=f,b.total_in+=e-b.next_in_index,b.next_in_index=e,a.write=l,a.inflate_flush(b,c);f--;g|=(b.next_in[e++]&255)<<h;h+=8}this.len+=g&z[d];g>>=d;h-=d;this.need=this.dbits;this.tree=this.dtree;this.tree_index=this.dtree_index;this.mode=3;case 3:for(d=
this.need;h<d;){if(0!=f)c=0;else return a.bitb=g,a.bitk=h,b.avail_in=f,b.total_in+=e-b.next_in_index,b.next_in_index=e,a.write=l,a.inflate_flush(b,c);f--;g|=(b.next_in[e++]&255)<<h;h+=8}d=3*(this.tree_index+(g&z[d]));g>>=this.tree[d+1];h-=this.tree[d+1];n=this.tree[d];if(0!=(n&16)){this.get=n&15;this.dist=this.tree[d+2];this.mode=4;break}if(0==(n&64)){this.need=n;this.tree_index=d/3+this.tree[d+2];break}this.mode=9;b.msg="invalid distance code";c=-3;a.bitb=g;a.bitk=h;b.avail_in=f;b.total_in+=e-b.next_in_index;
b.next_in_index=e;a.write=l;return a.inflate_flush(b,c);case 4:for(d=this.get;h<d;){if(0!=f)c=0;else return a.bitb=g,a.bitk=h,b.avail_in=f,b.total_in+=e-b.next_in_index,b.next_in_index=e,a.write=l,a.inflate_flush(b,c);f--;g|=(b.next_in[e++]&255)<<h;h+=8}this.dist+=g&z[d];g>>=d;h-=d;this.mode=5;case 5:for(d=l-this.dist;0>d;)d+=a.end;for(;0!=this.len;){if(0==k&&(l==a.end&&0!=a.read&&(l=0,k=l<a.read?a.read-l-1:a.end-l),0==k&&(a.write=l,c=a.inflate_flush(b,c),l=a.write,k=l<a.read?a.read-l-1:a.end-l,l==
a.end&&0!=a.read&&(l=0,k=l<a.read?a.read-l-1:a.end-l),0==k)))return a.bitb=g,a.bitk=h,b.avail_in=f,b.total_in+=e-b.next_in_index,b.next_in_index=e,a.write=l,a.inflate_flush(b,c);a.window[l++]=a.window[d++];k--;d==a.end&&(d=0);this.len--}this.mode=0;break;case 6:if(0==k&&(l==a.end&&0!=a.read&&(l=0,k=l<a.read?a.read-l-1:a.end-l),0==k&&(a.write=l,c=a.inflate_flush(b,c),l=a.write,k=l<a.read?a.read-l-1:a.end-l,l==a.end&&0!=a.read&&(l=0,k=l<a.read?a.read-l-1:a.end-l),0==k)))return a.bitb=g,a.bitk=h,b.avail_in=
f,b.total_in+=e-b.next_in_index,b.next_in_index=e,a.write=l,a.inflate_flush(b,c);c=0;a.window[l++]=this.lit;k--;this.mode=0;break;case 7:7<h&&(h-=8,f++,e--);a.write=l;c=a.inflate_flush(b,c);l=a.write;if(a.read!=a.write)return a.bitb=g,a.bitk=h,b.avail_in=f,b.total_in+=e-b.next_in_index,b.next_in_index=e,a.write=l,a.inflate_flush(b,c);this.mode=8;case 8:return c=1,a.bitb=g,a.bitk=h,b.avail_in=f,b.total_in+=e-b.next_in_index,b.next_in_index=e,a.write=l,a.inflate_flush(b,c);case 9:return c=-3,a.bitb=
g,a.bitk=h,b.avail_in=f,b.total_in+=e-b.next_in_index,b.next_in_index=e,a.write=l,a.inflate_flush(b,c);default:return c=-2,a.bitb=g,a.bitk=h,b.avail_in=f,b.total_in+=e-b.next_in_index,b.next_in_index=e,a.write=l,a.inflate_flush(b,c)}};F.prototype.free=function(a){};F.prototype.inflate_fast=function(a,b,c,d,k,e,f,g){var h=g.next_in_index;var l=g.avail_in;var n=f.bitb;var q=f.bitk;var m=f.write;var p=m<f.read?f.read-m-1:f.end-m;a=z[a];var y=z[b];do{for(;20>q;)l--,n|=(g.next_in[h++]&255)<<q,q+=8;var t=
n&a;var r=c;var w=d;var v=3*(w+t);if(0==(b=r[v]))n>>=r[v+1],q-=r[v+1],f.window[m++]=r[v+2],p--;else{do{n>>=r[v+1];q-=r[v+1];if(0!=(b&16)){b&=15;var u=r[v+2]+(n&z[b]);n>>=b;for(q-=b;15>q;)l--,n|=(g.next_in[h++]&255)<<q,q+=8;t=n&y;r=k;w=e;v=3*(w+t);b=r[v];do if(n>>=r[v+1],q-=r[v+1],0!=(b&16)){for(b&=15;q<b;)l--,n|=(g.next_in[h++]&255)<<q,q+=8;t=r[v+2]+(n&z[b]);n>>=b;q-=b;p-=u;if(m>=t)t=m-t,f.window[m++]=f.window[t++],f.window[m++]=f.window[t++],u-=2;else{t=m-t;do t+=f.end;while(0>t);b=f.end-t;if(u>
b){u-=b;if(0<m-t&&b>m-t){do f.window[m++]=f.window[t++];while(0!=--b)}else A(f.window,t,f.window,m,b),m+=b;t=0}}do f.window[m++]=f.window[t++];while(0!=--u);break}else if(0==(b&64))t+=r[v+2],t+=n&z[b],v=3*(w+t),b=r[v];else return g.msg="invalid distance code",u=g.avail_in-l,u=q>>3<u?q>>3:u,l+=u,h-=u,q-=u<<3,f.bitb=n,f.bitk=q,g.avail_in=l,g.total_in+=h-g.next_in_index,g.next_in_index=h,f.write=m,-3;while(1);break}if(0==(b&64)){if(t+=r[v+2],t+=n&z[b],v=3*(w+t),0==(b=r[v])){n>>=r[v+1];q-=r[v+1];f.window[m++]=
r[v+2];p--;break}}else{if(0!=(b&32))return u=g.avail_in-l,u=q>>3<u?q>>3:u,l+=u,h-=u,q-=u<<3,f.bitb=n,f.bitk=q,g.avail_in=l,g.total_in+=h-g.next_in_index,g.next_in_index=h,f.write=m,1;g.msg="invalid literal/length code";u=g.avail_in-l;u=q>>3<u?q>>3:u;l+=u;h-=u;q-=u<<3;f.bitb=n;f.bitk=q;g.avail_in=l;g.total_in+=h-g.next_in_index;g.next_in_index=h;f.write=m;return-3}}while(1)}}while(258<=p&&10<=l);u=g.avail_in-l;u=q>>3<u?q>>3:u;h-=u;f.bitb=n;f.bitk=q-(u<<3);g.avail_in=l+u;g.total_in+=h-g.next_in_index;
g.next_in_index=h;f.write=m;return 0};G.prototype.huft_build=function(a,b,c,d,k,e,f,g,h,l,n){var q,m,p,y;var t=0;var r=c;do this.c[a[b+t]]++,t++,r--;while(0!=r);if(this.c[0]==c)return f[0]=-1,g[0]=0;var w=g[0];for(m=1;15>=m&&0==this.c[m];m++);var v=m;w<m&&(w=m);for(r=15;0!=r&&0==this.c[r];r--);l=r;w>r&&(w=r);g[0]=w;for(g=1<<m;m<r;m++,g<<=1)if(0>(g-=this.c[m]))return-3;if(0>(g-=this.c[r]))return-3;this.c[r]+=g;this.x[1]=m=0;t=1;for(p=2;0!=--r;)this.x[p]=m+=this.c[t],p++,t++;t=r=0;do 0!=(m=a[b+t])&&
(this.v[this.x[m]++]=r),t++;while(++r<c);c=this.x[l];t=this.x[0]=r=0;b=-1;var u=-w;for(y=p=this.u[0]=0;v<=l;v++)for(a=this.c[v];0!=a--;){for(;v>u+w;){b++;u+=w;y=l-u;y=y>w?w:y;if((q=1<<(m=v-u))>a+1&&(q-=a+1,p=v,m<y))for(;++m<y&&!((q<<=1)<=this.c[++p]);)q-=this.c[p];y=1<<m;if(1440<this.hn[0]+y)return-3;this.u[b]=p=this.hn[0];this.hn[0]+=y;0!=b?(this.x[b]=r,this.r[0]=m,this.r[1]=w,m=r>>>u-w,this.r[2]=p-this.u[b-1]-m,A(this.r,0,h,3*(this.u[b-1]+m),3)):f[0]=p}this.r[1]=v-u;t>=c?this.r[0]=192:n[t]<d?(this.r[0]=
256>this.v[t]?0:96,this.r[2]=this.v[t++]):(this.r[0]=e[this.v[t]-d]+16+64,this.r[2]=k[this.v[t++]-d]);q=1<<v-u;for(m=r>>>u;m<y;m+=q)A(this.r,0,h,3*(p+m),3);for(m=1<<v-1;0!=(r&m);m>>>=1)r^=m;r^=m;for(m=(1<<u)-1;(r&m)!=this.x[b];)b--,u-=w,m=(1<<u)-1}return 0!=g&&1!=l?-5:0};G.prototype.inflate_trees_bits=function(a,b,c,d,k){this.initWorkArea(19);this.hn[0]=0;a=this.huft_build(a,0,19,19,null,null,c,b,d,this.hn,this.v);if(-3==a)k.msg="oversubscribed dynamic bit lengths tree";else if(-5==a||0==b[0])k.msg=
"incomplete dynamic bit lengths tree",a=-3;return a};G.prototype.inflate_trees_dynamic=function(a,b,c,d,k,e,f,g,h){this.initWorkArea(288);this.hn[0]=0;e=this.huft_build(c,0,a,257,aa,ba,e,d,g,this.hn,this.v);if(0!=e||0==d[0])return-3==e?h.msg="oversubscribed literal/length tree":-4!=e&&(h.msg="incomplete literal/length tree",e=-3),e;this.initWorkArea(288);e=this.huft_build(c,a,b,0,ca,da,f,k,g,this.hn,this.v);return 0!=e||0==k[0]&&257<a?(-3==e?h.msg="oversubscribed distance tree":-5==e?(h.msg="incomplete distance tree",
e=-3):-4!=e&&(h.msg="empty distance tree with lengths",e=-3),e):0};G.prototype.initWorkArea=function(a){null==this.hn&&(this.hn=new Int32Array(1),this.v=new Int32Array(a),this.c=new Int32Array(16),this.r=new Int32Array(3),this.u=new Int32Array(15),this.x=new Int32Array(16));this.v.length<a&&(this.v=new Int32Array(a));for(var b=0;b<a;b++)this.v[b]=0;for(b=0;16>b;b++)this.c[b]=0;for(b=0;3>b;b++)this.r[b]=0;A(this.c,0,this.u,0,15);A(this.c,0,this.x,0,16)};var U="function"===typeof(new Uint8Array(1)).subarray;
L.prototype.toString=function(){return""+this.block+":"+this.offset};H.prototype.slice=function(a,b){var c=this.blob.slice?b?this.blob.slice(a,a+b):this.blob.slice(a):b?this.blob.webkitSlice(a,a+b):this.blob.webkitSlice(a);return new H(c)};H.prototype.salted=function(){return this};H.prototype.fetch="undefined"!==typeof FileReader?function(a){var b=new FileReader;b.onloadend=function(c){a(O(b.result))};b.readAsBinaryString(this.blob)}:function(a){var b=new FileReaderSync;try{var c=b.readAsArrayBuffer(this.blob);
a(c)}catch(d){a(null,d)}};B.prototype.slice=function(a,b){if(0>a)throw"Bad slice "+a;var c=this.start,d=this.end;c=c&&a?c+a:a||c;return new B(this.url,c,b&&c?c+b-1:d||b-1,this.opts)};0<=navigator.userAgent.indexOf("Safari")&&navigator.userAgent.indexOf("Chrome");B.prototype.fetchAsText=function(a){var b=this;this.getURL().then(function(c){try{var d=new XMLHttpRequest;d.open("GET",c,!0);if(b.end){if(1E8<b.end-b.start)throw"Monster fetch!";d.setRequestHeader("Range","bytes="+b.start+"-"+b.end)}d.onreadystatechange=
function(){if(4==d.readyState)return 200==d.status||206==d.status?a(d.responseText):a(null)};b.opts.credentials&&(d.withCredentials=!0);d.send("")}catch(k){return a(null)}}).fail(function(b){console.log(b);return a(null,b)})};B.prototype.salted=function(){var a=this.opts,b={},c;for(c in a)b[c]=a[c];b.salt=!0;return new B(this.url,this.start,this.end,b)};B.prototype.getURL=function(){if(this.opts.resolver)return this.opts.resolver(this.url).then(function(a){return"string"===typeof a?a:a.url});var a=
this.url;return new Promise(function(b){b(a)})};B.prototype.fetch=function(a,b){var c=this;b=b||{};var d=b.attempt||1,k=b.truncatedLength;if(3<d)return a(null);this.getURL().then(function(e){try{var f;b.timeout&&!c.opts.credentials&&(f=setTimeout(function(){console.log("timing out "+e);g.abort();return a(null,"Timeout")},b.timeout));var g=new XMLHttpRequest;g.open("GET",e,!0);g.overrideMimeType("text/plain; charset=x-user-defined");if(c.end){if(1E8<c.end-c.start)throw"Monster fetch!";g.setRequestHeader("Range",
"bytes="+c.start+"-"+c.end);var h=c.end-c.start+1}g.responseType="arraybuffer";g.onreadystatechange=function(){if(4==g.readyState){f&&clearTimeout(f);if(200==g.status||206==g.status){if(g.response){var b=g.response.byteLength;return!h||h==b||k&&b==k?a(g.response):c.fetch(a,{attempt:d+1,truncatedLength:b})}if(g.mozResponseArrayBuffer)return a(g.mozResponseArrayBuffer);b=g.responseText;return!h||h==b.length||k&&b.length==k?a(O(g.responseText)):c.fetch(a,{attempt:d+1,truncatedLength:b.length})}return c.fetch(a,
{attempt:d+1})}};c.opts.credentials&&(g.withCredentials=!0);g.send("")}catch(l){return a(null)}}).fail(function(b){console.log(b);return a(null,b)})};J.prototype.blocksForRange=function(a,b,c){var d=this.indices[a];if(!d)return[];a=V(b,c);for(var k=[],e=0;e<a.length;++e)k[a[e]]=!0;a=[];var f=[];e=x(d,0);for(var g=4,h=0;h<e;++h){var l=x(d,g),n=x(d,g+4);g+=8;if(k[l])for(var q=0;q<n;++q){var m=I(d,g),p=I(d,g+8);(4681>l?f:a).push(new N(m,p));g+=16}else g+=16*n}e=x(d,g);k=null;c=Math.min(c>>14,e-1);for(e=
Math.min(b>>14,e-1);e<=c;++e)(b=I(d,g+4+8*e))&&(!k||b.block<k.block||b.offset<k.offset)&&(k=b);b=[];if(null!=k)for(e=0;e<f.length;++e)d=f[e],d.maxv.block>=k.block&&d.maxv.offset>=k.offset&&b.push(d);f=b;b=[];for(e=0;e<f.length;++e)b.push(f[e]);for(e=0;e<a.length;++e)b.push(a[e]);b.sort(function(a,b){var c=a.minv.block-b.minv.block;return 0!=c?c:a.minv.offset-b.minv.offset});a=[];if(0<b.length){f=b[0];for(e=1;e<b.length;++e)d=b[e],d.minv.block==f.maxv.block?f=new N(f.minv,d.maxv):(a.push(f),f=d);a.push(f)}return a};
J.prototype.fetch=function(a,b,c,d,k){function e(){if(q>=h.length)return d(n);if(m){var a=new Uint8Array(m);a=f.readBamRecords(a,h[q].minv.offset,n,b,c,g,k);m=null;++q;return a?d(n):e()}var l=h[q];a=l.minv.block;f.data.slice(a,l.maxv.block+65536-a).fetch(function(a){m=M(a,l.maxv.block-l.minv.block+1);return e()})}var f=this;k=k||{};var g=this.chrToIndex[a];if(void 0===g)var h=[];else{if(null===this.indices[g]&&this.indexChunks.chunks[g]){var l=this.indexChunks.chunks[g];return this.bai.slice(l[0],
l[1]).fetch(function(e){e=new Uint8Array(e);this.indices[g]=e;return this.fetch(a,b,c,d,k)}.bind(this))}(h=this.blocksForRange(g,b,c))||d(null,"Error in index fetch")}var n=[],q=0,m;e()};var T="=ACxGxxxTxxxxxxN".split(""),fa="MIDNSHP=X???????".split("");J.prototype.readBamRecords=function(a,b,c,d,k,e,f){for(;;){var g=x(a,b);g=b+g+4;if(g>=a.length)return!1;var h=new X,l=x(a,b+4),n=x(a,b+8),q=x(a,b+12),m=(q&65280)>>8,p=q&255;q=x(a,b+16);var y=(q&4294901760)>>16,t=q&65535;q=x(a,b+20);var r=x(a,b+24),
w=x(a,b+28);x(a,b+32);h.segment=this.indexToChr[l];h.flag=y;h.pos=n;h.mq=m;f.light&&(h.seqLength=q);if(!f.light){0<=r&&(h.nextSegment=this.indexToChr[r],h.nextPos=w);m="";for(n=0;n<p-1;++n)m+=String.fromCharCode(a[b+36+n]);h.readName=m;b=b+36+p;p="";for(n=0;n<t;++n)m=x(a,b),p=p+(m>>4)+fa[m&15],b+=4;h.cigar=p;t="";p=q+1>>1;for(n=0;n<p;++n)m=a[b+n],t+=T[(m&240)>>4],t.length<q&&(t+=T[m&15]);b+=p;h.seq=t;t="";for(n=0;n<q;++n)t+=String.fromCharCode(a[b+n]+33);b+=q;for(h.quals=t;b<g;){t=String.fromCharCode(a[b],
a[b+1]);p=String.fromCharCode(a[b+2]);if("A"==p)p=String.fromCharCode(a[b+3]),b+=4;else if("i"==p||"I"==p)p=x(a,b+3),b+=7;else if("c"==p||"C"==p)p=a[b+3],b+=4;else if("s"==p||"S"==p)p=Q(a,b+3),b+=5;else if("f"==p)p=P(a,b+3),b+=7;else if("Z"==p||"H"==p)for(b+=3,p="";n=a[b++],0!=n;)p+=String.fromCharCode(n);else if("B"==p){p=String.fromCharCode(a[b+3]);n=x(a,b+4);if("i"==p||"I"==p||"f"==p)m=4,y="f"==p?P:x;else if("s"==p||"S"==p)m=2,y=Q;else if("c"==p||"C"==p)m=1,y=W;else throw"Unknown array type "+
p;b+=8;p=[];for(r=0;r<n;++r)p.push(y(a,b)),b+=m}else throw"Unknown type "+p;h[t]=p}}d&&!(h.pos<=k&&h.pos+q>=d)||void 0!==e&&l!=e||c.push(h);if(h.pos>k)return!0;b=g}};window.dallianceLib={URLFetchable:B,BlobFetchable:H,makeBam:function(a,b,c,d,k){a.slice(0,10).fetch(function(e){return e?R(a,b,c,d,k):d(null,"Couldn't access BAM.")},{timeout:5E3})},inflateBuffer:K};"object"===typeof module&&"object"===typeof module.exports&&(module.exports=window.dallianceLib)})();